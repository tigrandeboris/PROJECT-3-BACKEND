(this["webpackJsonptodo-app-client"]=this["webpackJsonptodo-app-client"]||[]).push([[0],{37:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(30),i=n.n(s),c=(n(36),n(37),n(2)),o=n(3),u=n(5),l=n(6),d=n(8),h=n(7),j=n(17),b=n.n(j),g=function e(){var t=this;Object(u.a)(this,e),this.signup=function(e){return t.instance.post("/signup",e)},this.login=function(e){return t.instance.post("/login",e)},this.logout=function(){return t.instance.post("/logout")},this.isLoggedIn=function(){return t.instance.get("/loggedin")},this.instance=b.a.create({baseURL:"".concat("https://project-manager-3.herokuapp.com","/auth"),withCredentials:!0})},f=n(0),m=r.a.createContext(),p=m.Consumer,O=m.Provider,v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedIn:!1,isLoading:!0,user:null},e.authService=new g,e.signup=function(t){e.authService.signup(t).then((function(t){return e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){return e.setState({isLoggedIn:!1,user:null})}))},e.login=function(t){e.authService.login(t).then((function(t){return e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){return e.setState({isLoggedIn:!1,user:null})}))},e.logout=function(){e.authService.logout().then((function(){return e.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.error(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.authService.isLoggedIn().then((function(t){e.setState({isLoggedIn:!0,isLoading:!1,user:t.data})})).catch((function(){e.setState({isLoggedIn:!1,isLoading:!1,user:null})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isLoading,a=e.user;return n?Object(f.jsx)("p",{children:"Loading..."}):Object(f.jsx)(O,{value:{isLoading:n,isLoggedIn:t,user:a,signup:this.signup,login:this.login,logout:this.logout},children:this.props.children})}}]),n}(r.a.Component),x=function(e){return function(t){return Object(f.jsx)(p,{children:function(n){var a=n.isLoading,r=n.isLoggedIn,s=n.user,i=n.signup,c=n.login,u=n.logout;return Object(f.jsx)(e,Object(o.a)({isLoggedIn:r,isLoading:a,user:s,signup:i,login:c,logout:u},t))}})}};var S=x((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,r=e.path,s=e.redirectPath,i=void 0===s?"/projects":s,u=e.component;return n?Object(f.jsx)("p",{children:"Loading..."}):Object(f.jsx)(c.b,{exact:a,path:r,render:function(e){return t?Object(f.jsx)(c.a,{to:i}):t?void 0:Object(f.jsx)(u,Object(o.a)({},e))}})}));var k=x((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,r=e.path,s=e.component;return n?Object(f.jsx)("p",{children:"Loading..."}):Object(f.jsx)(c.b,{exact:a,path:r,render:function(e){return t?t?Object(f.jsx)(s,Object(o.a)({},e)):void 0:Object(f.jsx)(c.a,{to:"/login"})}})})),y=(n(65),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("nav",{className:"navbar navbar-dark bg-dark",children:[Object(f.jsx)("div",{className:"nav-name",children:Object(f.jsx)("a",{href:"/",children:"Project Manager"})}),Object(f.jsxs)("div",{className:"navbar-anchor",children:[Object(f.jsx)("a",{className:"login-nav",href:"/login",children:"Login"}),Object(f.jsx)("a",{className:"signup-nav",href:"/signup",children:"Signup"})]})]})}}]),n}(r.a.Component)),L=n.p+"static/media/homepage-banner.26032b4f.svg",w=(n(66),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"home-page",children:[Object(f.jsx)(y,{}),Object(f.jsxs)("div",{className:"home-page-body",children:[Object(f.jsx)("div",{className:"home-page-img",children:Object(f.jsx)("img",{src:L,alt:""})}),Object(f.jsxs)("div",{className:"home-page-info",children:[Object(f.jsx)("h1",{children:"Organize your projects with Project Manager!"}),Object(f.jsx)("button",{type:"button",className:"btn btn-dark home-page-button",children:"Login"}),Object(f.jsx)("button",{type:"button",className:"btn btn-dark home-page-button",children:"Signup"})]})]})]})}}]),n}(r.a.Component)),C=n(13),N=(n(67),{username:function(e){var t;return e||(t="Username is required"),t},password:function(e){var t;return e?e.length<3&&(t="Invalid password"):t="Password is required",t}}),I=x(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={fields:{username:"",password:""},errors:{username:null,password:null}},a}return Object(l.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state.fields),this.props.login(this.state.fields)}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState({fields:Object(o.a)(Object(o.a)({},this.state.fields),{},Object(C.a)({},n,a)),errors:Object(o.a)(Object(o.a)({},this.state.errors),{},Object(C.a)({},n,N[n](a)))})}},{key:"render",value:function(){var e=this,t=this.state.fields;return Object(f.jsxs)("div",{children:[Object(f.jsx)(y,{}),Object(f.jsx)("div",{className:"form-signin login-form",children:Object(f.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please Login"}),Object(f.jsxs)("div",{className:"form-floating username-input",children:[Object(f.jsx)("input",{required:!0,name:"username",value:t.username,onChange:function(t){return e.handleChange(t)},type:"text",className:"form-control",id:"floatingInput",placeholder:"name@example.com"}),Object(f.jsx)("label",{htmlFor:"floatingInput",children:"Username"})]}),Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{required:!0,name:"password",value:t.password,onChange:function(t){return e.handleChange(t)},type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password"}),Object(f.jsx)("label",{htmlFor:"floatingPassword",children:"Password"})]}),Object(f.jsx)("div",{className:"checkbox mb-3",children:Object(f.jsxs)("label",{children:[Object(f.jsx)("input",{type:"checkbox",value:"remember-me"})," Remember me"]})}),Object(f.jsx)("button",{className:"w-100 btn btn-lg btn-dark login-button",type:"submit",children:"Login"}),Object(f.jsxs)("div",{className:"sign-in-up-anchor",children:[Object(f.jsx)("a",{href:"/signup",children:"Don't have an account? Signup!"}),Object(f.jsx)("br",{}),Object(f.jsx)("a",{href:"/",children:"Go to Homepage"})]}),Object(f.jsx)("p",{className:"mt-5 mb-3 text-muted",children:" \xa9 2021"})]})})]})}}]),n}(a.Component)),P=(n(68),{username:function(e){var t;return e||(t="Username is required"),t},email:function(e){var t;return e||(t="Email is required"),t},password:function(e){var t;return e?e.length<3&&(t="Invalid password"):t="Password is required",t}}),q=x(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={fields:{username:"",email:"",password:""},errors:{username:null,email:null,password:null}},a}return Object(l.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state.fields),this.props.signup(this.state.fields)}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState({fields:Object(o.a)(Object(o.a)({},this.state.fields),{},Object(C.a)({},n,a)),errors:Object(o.a)(Object(o.a)({},this.state.errors),{},Object(C.a)({},n,P[n](a)))})}},{key:"render",value:function(){var e=this,t=this.state.fields;return Object(f.jsxs)("div",{children:[Object(f.jsx)(y,{}),Object(f.jsx)("div",{className:"form-signin signup-form",children:Object(f.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please Signup"}),Object(f.jsxs)("div",{className:"form-floating username-input",children:[Object(f.jsx)("input",{required:!0,name:"username",value:t.username,onChange:function(t){return e.handleChange(t)},type:"text",className:"form-control",id:"floatingInput",placeholder:"username"}),Object(f.jsx)("label",{htmlFor:"floatingInput",children:"Username"})]}),Object(f.jsxs)("div",{className:"form-floating username-input",children:[Object(f.jsx)("input",{required:!0,name:"email",value:t.email,onChange:function(t){return e.handleChange(t)},type:"text",className:"form-control",id:"floatingInput",placeholder:"name@example.com"}),Object(f.jsx)("label",{htmlFor:"floatingInput",children:"Email"})]}),Object(f.jsxs)("div",{className:"form-floating username-input",children:[Object(f.jsx)("input",{required:!0,name:"password",value:t.password,onChange:function(t){return e.handleChange(t)},type:"password",className:"form-control",id:"floatingInput",placeholder:"Password"}),Object(f.jsx)("label",{htmlFor:"floatingInput",children:"Password"})]}),Object(f.jsx)("button",{className:"w-100 btn btn-lg btn-dark login-button",type:"submit",children:"Signup"}),Object(f.jsxs)("div",{className:"sign-in-up-anchor",children:[Object(f.jsx)("a",{href:"/login",children:"Already have an account? Login!"}),Object(f.jsx)("br",{}),Object(f.jsx)("a",{href:"/",children:"Go to Homepage"})]}),Object(f.jsx)("p",{className:"mt-5 mb-3 text-muted",children:" \xa9 2021"})]})})]})}}]),n}(a.Component)),D=function e(){var t=this;Object(u.a)(this,e),this.create=function(e){return t.instance.post("/",e)},this.get=function(){return t.instance.get("/")},this.getOne=function(e){return t.instance.get("/".concat(e))},this.deleteOne=function(e){return t.instance.delete("/".concat(e))},this.updateOne=function(e,n){return t.instance.put("/".concat(e),n)},this.instance=b.a.create({baseURL:"".concat("https://project-manager-3.herokuapp.com","/projects"),withCredentials:!0})},F={name:function(e){var t;return e||(t="Name is required"),t}},M=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={fields:{name:""},errors:{name:null}},a.taskService=new D,a}return Object(l.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log(this.state.fields),this.taskService.create(this.state.fields).then((function(){console.log("Created"),t.setState({fields:{name:""},errors:{name:null}},(function(){t.props.refreshState()}))})).catch((function(e){return console.error(e)}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState({fields:Object(o.a)(Object(o.a)({},this.state.fields),{},Object(C.a)({},n,a)),errors:Object(o.a)(Object(o.a)({},this.state.errors),{},Object(C.a)({},n,F[n](a)))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.fields;t.errors;return Object(f.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(f.jsx)("input",{type:"text",value:n.name,onChange:function(t){return e.handleChange(t)},name:"name"}),Object(f.jsx)("button",{type:"submit",children:"Add task"})]})}}]),n}(a.Component);function U(e){var t=e.name,n=e.done,a=e.priority,r=e.id,s=e.refreshState,i=new D;return Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){i.updateOne(r,{done:!n}).then((function(){console.log("Updated"),s()})).catch((function(e){return console.error(e)}))},children:n?"Deshacer todo":"Marcar como realizado"}),Object(f.jsx)("div",{children:t}),Object(f.jsx)("button",{onClick:function(){i.updateOne(r,{priority:!a}).then((function(){console.log("Updated"),s()})).catch((function(e){return console.error(e)}))},children:a?"Marcar como no prioritario":"Marcar como prioritario"}),Object(f.jsx)("button",{onClick:function(){i.deleteOne(r).then((function(){console.log("Deleted"),s()})).catch((function(e){return console.error(e)}))},children:"Eliminar"})]})}var E=x(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleLogout=function(){a.props.logout()},a.state={tasks:[]},a.taskService=new D,a}return Object(l.a)(n,[{key:"refreshState",value:function(){var e=this;this.taskService.get().then((function(t){console.log(t.data),e.setState({tasks:t.data})})).catch((function(e){return console.error(e)}))}},{key:"componentDidMount",value:function(){this.refreshState()}},{key:"displayTasks",value:function(){var e=this;return this.state.tasks.map((function(t){return Object(f.jsx)(U,Object(o.a)({refreshState:function(){return e.refreshState()}},t),t.id)}))}},{key:"render",value:function(){var e=this;this.state.tasks;return Object(f.jsxs)("div",{children:[Object(f.jsx)(y,{}),Object(f.jsx)("div",{onClick:this.handleLogout,children:"Logout"}),Object(f.jsxs)("div",{className:"card",children:[this.displayTasks(),Object(f.jsx)(M,{refreshState:function(){return e.refreshState()}})]})]})}}]),n}(a.Component));var T=function(){return Object(f.jsx)("div",{children:Object(f.jsxs)(c.d,{children:[Object(f.jsx)(c.b,{exact:!0,path:"/",component:w}),Object(f.jsx)(k,{path:"/projects",exact:!0,component:E}),Object(f.jsx)(S,{exact:!0,path:"/signup",component:q,redirectPath:"/projects"}),Object(f.jsx)(S,{exact:!0,path:"/login",component:I})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))},R=n(15);i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(R.a,{children:Object(f.jsx)("div",{children:Object(f.jsx)(v,{children:Object(f.jsx)(T,{})})})})}),document.getElementById("root")),A()}},[[69,1,2]]]);
//# sourceMappingURL=main.d4f97c28.chunk.js.map