(this["webpackJsonptodo-app-client"]=this["webpackJsonptodo-app-client"]||[]).push([[0],{37:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(30),i=n.n(s),c=(n(36),n(37),n(4)),o=n(2),l=n(3),u=n(5),d=n(7),h=n(6),j=n(16),b=n.n(j),p=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e){return t.instance.post("/signup",e)},this.login=function(e){return t.instance.post("/login",e)},this.logout=function(){return t.instance.post("/logout")},this.isLoggedIn=function(){return t.instance.get("/loggedin")},this.instance=b.a.create({baseURL:"".concat("https://project-manager-3.herokuapp.com/api","/auth"),withCredentials:!0})},f=n(0),m=r.a.createContext(),g=m.Consumer,O=m.Provider,v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedIn:!1,isLoading:!0,user:null},e.authService=new p,e.signup=function(t){e.authService.signup(t).then((function(t){return e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){return e.setState({isLoggedIn:!1,user:null})}))},e.login=function(t){e.authService.login(t).then((function(t){return e.setState({isLoggedIn:!0,user:t.data})})).catch((function(){return e.setState({isLoggedIn:!1,user:null})}))},e.logout=function(){e.authService.logout().then((function(){return e.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.error(e)}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.authService.isLoggedIn().then((function(t){e.setState({isLoggedIn:!0,isLoading:!1,user:t.data})})).catch((function(){e.setState({isLoggedIn:!1,isLoading:!1,user:null})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isLoading,a=e.user;return n?Object(f.jsx)("p",{children:"Loading..."}):Object(f.jsx)(O,{value:{isLoading:n,isLoggedIn:t,user:a,signup:this.signup,login:this.login,logout:this.logout},children:this.props.children})}}]),n}(r.a.Component),x=function(e){return function(t){return Object(f.jsx)(g,{children:function(n){var a=n.isLoading,r=n.isLoggedIn,s=n.user,i=n.signup,c=n.login,l=n.logout;return Object(f.jsx)(e,Object(o.a)({isLoggedIn:r,isLoading:a,user:s,signup:i,login:c,logout:l},t))}})}};var k=x((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,r=e.path,s=e.redirectPath,i=void 0===s?"/projects":s,l=e.component;return n?Object(f.jsx)("p",{children:"Loading..."}):Object(f.jsx)(c.b,{exact:a,path:r,render:function(e){return t?Object(f.jsx)(c.a,{to:i}):t?void 0:Object(f.jsx)(l,Object(o.a)({},e))}})}));var S=x((function(e){var t=e.isLoggedIn,n=e.isLoading,a=e.exact,r=e.path,s=e.component;return n?Object(f.jsx)("p",{children:"Loading..."}):Object(f.jsx)(c.b,{exact:a,path:r,render:function(e){return t?t?Object(f.jsx)(s,Object(o.a)({},e)):void 0:Object(f.jsx)(c.a,{to:"/login"})}})})),N=n(14),y=n.p+"static/media/homepage-banner.26032b4f.svg",C=(n(65),x(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"home-page",children:Object(f.jsxs)("div",{className:"home-page-body",children:[Object(f.jsx)("div",{className:"home-page-img",children:Object(f.jsx)("img",{src:y,alt:""})}),Object(f.jsxs)("div",{className:"home-page-info",children:[Object(f.jsx)("h1",{children:"Organize your projects with Project Manager!"}),!this.props.isLoggedIn&&Object(f.jsxs)("div",{children:[Object(f.jsx)(N.b,{to:"/login",children:Object(f.jsx)("button",{type:"button",className:"btn btn-dark home-page-button",children:"Login"})}),Object(f.jsx)(N.b,{to:"/signup",children:Object(f.jsx)("button",{type:"button",className:"btn btn-dark home-page-button",children:"Signup"})})]}),this.props.isLoggedIn&&Object(f.jsx)(N.b,{to:"/projects",children:Object(f.jsx)("button",{type:"button",className:"btn btn-dark home-page-button-2",children:"Create Project"})})]})]})})}}]),n}(r.a.Component))),L=n(9),w=(n(66),{username:function(e){var t;return e||(t="Username is required"),t},password:function(e){var t;return e?e.length<3&&(t="Invalid password"):t="Password is required",t}}),I=x(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={fields:{username:"",password:""},errors:{username:null,password:null}},a}return Object(u.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state.fields),this.props.login(this.state.fields)}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState({fields:Object(o.a)(Object(o.a)({},this.state.fields),{},Object(L.a)({},n,a)),errors:Object(o.a)(Object(o.a)({},this.state.errors),{},Object(L.a)({},n,w[n](a)))})}},{key:"render",value:function(){var e=this,t=this.state.fields;return Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"form-signin login-form",children:Object(f.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please Login"}),Object(f.jsxs)("div",{className:"form-floating username-input",children:[Object(f.jsx)("input",{required:!0,name:"username",value:t.username,onChange:function(t){return e.handleChange(t)},type:"text",className:"form-control",id:"floatingInput",placeholder:"name@example.com"}),Object(f.jsx)("label",{htmlFor:"floatingInput",children:"Username"})]}),Object(f.jsxs)("div",{className:"form-floating",children:[Object(f.jsx)("input",{required:!0,name:"password",value:t.password,onChange:function(t){return e.handleChange(t)},type:"password",className:"form-control",id:"floatingPassword",placeholder:"Password"}),Object(f.jsx)("label",{htmlFor:"floatingPassword",children:"Password"})]}),Object(f.jsx)("div",{className:"checkbox mb-3",children:Object(f.jsxs)("label",{children:[Object(f.jsx)("input",{type:"checkbox",value:"remember-me"})," Remember me"]})}),Object(f.jsx)("button",{className:"w-100 btn btn-lg btn-dark login-button",type:"submit",children:"Login"}),Object(f.jsxs)("div",{className:"sign-in-up-anchor",children:[Object(f.jsx)("a",{href:"/signup",children:"Don't have an account? Signup!"}),Object(f.jsx)("br",{}),Object(f.jsx)("a",{href:"/",children:"Go to Homepage"})]}),Object(f.jsx)("p",{className:"mt-5 mb-3 text-muted",children:" \xa9 2021"})]})})})}}]),n}(a.Component)),P=(n(67),n(68),x(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){e.props.logout()},e}return Object(u.a)(n,[{key:"render",value:function(){return console.log(this.props),Object(f.jsxs)("nav",{className:"navbar navbar-dark bg-dark",children:[Object(f.jsx)("div",{className:"nav-name",children:Object(f.jsx)("a",{href:"/",children:"Project Manager"})}),Object(f.jsxs)("div",{className:"navbar-anchor",children:[!this.props.isLoggedIn&&Object(f.jsxs)("div",{children:[Object(f.jsx)("a",{className:"login-nav",href:"/login",children:"Login"}),Object(f.jsx)("a",{className:"signup-nav",href:"/signup",children:"Signup"})]}),this.props.isLoggedIn&&Object(f.jsxs)("div",{children:[Object(f.jsx)("a",{className:"login-nav",href:"/projects",children:"Projects Profile"}),Object(f.jsx)("button",{className:"btn btn-light",onClick:this.handleLogout,children:"Logout"})]})]})]})}}]),n}(r.a.Component))),D={username:function(e){var t;return e||(t="Username is required"),t},email:function(e){var t;return e||(t="Email is required"),t},password:function(e){var t;return e?e.length<3&&(t="Invalid password"):t="Password is required",t}},q=x(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={fields:{username:"",email:"",password:""},errors:{username:null,email:null,password:null}},a}return Object(u.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state.fields),this.props.signup(this.state.fields)}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState({fields:Object(o.a)(Object(o.a)({},this.state.fields),{},Object(L.a)({},n,a)),errors:Object(o.a)(Object(o.a)({},this.state.errors),{},Object(L.a)({},n,D[n](a)))})}},{key:"render",value:function(){var e=this,t=this.state.fields;return Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"form-signin signup-form",children:Object(f.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(f.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please Signup"}),Object(f.jsxs)("div",{className:"form-floating username-input",children:[Object(f.jsx)("input",{required:!0,name:"username",value:t.username,onChange:function(t){return e.handleChange(t)},type:"text",className:"form-control",id:"floatingInput",placeholder:"username"}),Object(f.jsx)("label",{htmlFor:"floatingInput",children:"Username"})]}),Object(f.jsxs)("div",{className:"form-floating username-input",children:[Object(f.jsx)("input",{required:!0,name:"email",value:t.email,onChange:function(t){return e.handleChange(t)},type:"text",className:"form-control",id:"floatingInput",placeholder:"name@example.com"}),Object(f.jsx)("label",{htmlFor:"floatingInput",children:"Email"})]}),Object(f.jsxs)("div",{className:"form-floating username-input",children:[Object(f.jsx)("input",{required:!0,name:"password",value:t.password,onChange:function(t){return e.handleChange(t)},type:"password",className:"form-control",id:"floatingInput",placeholder:"Password"}),Object(f.jsx)("label",{htmlFor:"floatingInput",children:"Password"})]}),Object(f.jsx)("button",{className:"w-100 btn btn-lg btn-dark login-button",type:"submit",children:"Signup"}),Object(f.jsxs)("div",{className:"sign-in-up-anchor",children:[Object(f.jsx)("a",{href:"/login",children:"Already have an account? Login!"}),Object(f.jsx)("br",{}),Object(f.jsx)("a",{href:"/",children:"Go to Homepage"})]}),Object(f.jsx)("p",{className:"mt-5 mb-3 text-muted",children:" \xa9 2021"})]})})})}}]),n}(a.Component)),T=(n(69),function e(){var t=this;Object(l.a)(this,e),this.create=function(e){return t.instance.post("/",e)},this.get=function(){return t.instance.get("/")},this.getOne=function(e){return t.instance.get("/".concat(e))},this.deleteOne=function(e){return t.instance.delete("/".concat(e))},this.updateOne=function(e,n){return t.instance.put("/".concat(e),n)},this.instance=b.a.create({baseURL:"".concat("https://project-manager-3.herokuapp.com/api","/projects"),withCredentials:!0})}),U=(n(70),function e(){var t=this;Object(l.a)(this,e),this.create=function(e){return t.instance.post("/",e)},this.get=function(){return t.instance.get("/")},this.getOne=function(e){return t.instance.get("/".concat(e))},this.deleteOne=function(e){return t.instance.delete("/".concat(e))},this.updateOne=function(e,n){return t.instance.put("/".concat(e),n)},this.instance=b.a.create({baseURL:"".concat("https://project-manager-3.herokuapp.com/api","/tasks"),withCredentials:!0})}),_=(n(71),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).taskService=new U,e}return Object(u.a)(n,[{key:"deleteTask",value:function(){var e=this;this.taskService.deleteOne(this.props.id).then((function(){console.log("Deleted"),e.props.refreshState()})).catch((function(e){return console.error(e)}))}},{key:"markAsDone",value:function(){var e=this;this.taskService.updateOne(this.props.id,{done:!this.props.done}).then((function(){console.log("Updated"),e.props.refreshState()})).catch((function(e){return console.error(e)}))}},{key:"editName",value:function(){var e=this,t=prompt("Change Task Name",this.props.name);t&&this.taskService.updateOne(this.props.id,{name:t}).then((function(){console.log("Updated"),e.props.refreshState()})).catch((function(e){return console.error(e)}))}},{key:"togglePriority",value:function(){var e=this;this.taskService.updateOne(this.props.id,{priority:!this.props.priority}).then((function(){console.log("Updated"),e.props.refreshState()})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"tasks-div",children:[Object(f.jsx)("div",{className:"task-name-div",children:Object(f.jsx)("div",{children:this.props.name})}),Object(f.jsxs)("div",{className:"tasks-buttons-div",children:[Object(f.jsx)("button",{className:"task-button",onClick:function(){return e.markAsDone()},children:this.props.done?Object(f.jsx)("i",{className:"fas fa-check-square fa-done"}):Object(f.jsx)("i",{className:"fas fa-check-square fa-not-done"})}),Object(f.jsx)("button",{className:"task-button",onClick:function(){return e.togglePriority()},children:this.props.priority?Object(f.jsx)("i",{className:"fas fa-star h-priority"}):Object(f.jsx)("i",{className:"fas fa-star l-priority"})}),Object(f.jsx)("button",{className:"task-button",onClick:function(){return e.editName()},children:Object(f.jsx)("i",{className:"fas fa-edit edit-icon"})}),Object(f.jsx)("button",{className:"task-button",onClick:function(){return e.deleteTask()},children:Object(f.jsx)("i",{className:"fas fa-times fa-delete"})})]})]})}}]),n}(r.a.Component)),A=(n(72),{name:function(e){var t;return e||(t="Name is required"),t}}),F=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={fields:{project_id:a.props.project_id,name:""},errors:{name:null}},a.taskService=new U,a}return Object(u.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log(this.state.fields),this.taskService.create(this.state.fields).then((function(){console.log("Created"),t.setState({fields:{name:"",project_id:t.props.project_id},errors:{name:null}},(function(){t.props.refreshState()}))})).catch((function(e){return console.error(e)}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState({fields:Object(o.a)(Object(o.a)({},this.state.fields),{},Object(L.a)({},n,a)),errors:Object(o.a)(Object(o.a)({},this.state.errors),{},Object(L.a)({},n,A[n](a)))})}},{key:"render",value:function(){var e=this,t=this.state,n=t.fields;t.errors;return Object(f.jsx)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:Object(f.jsxs)("div",{className:"input-group mb-3 task-input",children:[Object(f.jsx)("input",{value:n.name,onChange:function(t){return e.handleChange(t)},name:"name",type:"text",className:"form-control",placeholder:"Task name","aria-label":"Recipient's username","aria-describedby":"button-addon2"}),Object(f.jsx)("button",{className:"btn btn-dark",type:"submit",id:"button-addon2",children:"Add Task"})]})})}}]),n}(a.Component),E=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).projectService=new T,a.taskService=new U,a.state=e,a}return Object(u.a)(n,[{key:"refreshState",value:function(){var e=this;this.projectService.getOne(this.props.id).then((function(t){var n=t.data;console.log(n),e.setState({id:n.id,name:n.name,tasks:n.tasks})}))}},{key:"getProjectDetails",value:function(){this.refreshState()}},{key:"editName",value:function(e){var t=this;e.stopPropagation();var n=prompt("Change Project Name",this.state.name);n&&this.projectService.updateOne(this.props.id,{name:n}).then((function(){console.log("Edited"),t.refreshState()})).catch((function(e){return console.error(e)}))}},{key:"deleteProject",value:function(e){var t=this;e.stopPropagation(),this.projectService.deleteOne(this.props.id).then((function(){console.log("Deleted"),t.props.refreshState()})).catch((function(e){return console.error(e)}))}},{key:"addTask",value:function(){var e=this,t={project_id:this.props.id,name:"Task 1"};this.taskService.create(t).then((function(){console.log("Task created"),e.refreshState()})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsxs)("div",{className:"card-header project-name","data-toggle":"collapse","data-target":"#project"+this.state.id,onClick:function(){return e.getProjectDetails()},children:[Object(f.jsx)("div",{className:"card-title",children:this.state.name}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"btn btn-dark",onClick:function(t){return e.editName(t)},children:"Edit"}),Object(f.jsx)("button",{className:"btn btn-danger",onClick:function(t){return e.deleteProject(t)},children:"Delete"})]})]}),Object(f.jsx)("div",{className:"collapse",id:"project"+this.state.id,"data-parent":"#accordion",children:Object(f.jsxs)("div",{className:"card-body",children:[this.state.tasks.map((function(t){return t.refreshState=function(){return e.refreshState()},Object(a.createElement)(_,Object(o.a)(Object(o.a)({},t),{},{key:t.id}))})),Object(f.jsx)(F,{project_id:this.state.id,refreshState:function(){return e.refreshState()}})]})})]})})}}]),n}(r.a.Component),M=(n(73),{name:function(e){var t;return e||(t="Name is required"),t}}),R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={fields:{name:""},adding:!1,errors:{name:null}},a.projectService=new T,a}return Object(u.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log(this.state.fields),this.projectService.create(this.state.fields).then((function(){console.log("Created"),t.setState({fields:{name:""},adding:!1,errors:{name:null}},(function(){t.props.refreshState()}))})).catch((function(e){return console.error(e)}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState({fields:Object(o.a)(Object(o.a)({},this.state.fields),{},Object(L.a)({},n,a)),errors:Object(o.a)(Object(o.a)({},this.state.errors),{},Object(L.a)({},n,M[n](a)))})}},{key:"handleAdd",value:function(){this.setState({fields:Object(o.a)({},this.state.fields),adding:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.fields;t.errors;return Object(f.jsx)("div",{className:"project-list-page",children:Object(f.jsxs)("div",{className:"add-project-input",children:[this.state.adding&&Object(f.jsx)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:Object(f.jsxs)("div",{className:"input-group mb-3",children:[Object(f.jsx)("input",{value:n.name,onChange:function(t){return e.handleChange(t)},name:"name",type:"text",className:"form-control",placeholder:"Project name","aria-label":"Recipient's username","aria-describedby":"button-addon2"}),Object(f.jsx)("button",{className:"btn btn-dark create-project-button",type:"submit",id:"button-addon2",children:"Create"})]})}),!this.state.adding&&Object(f.jsx)("button",{className:"btn btn-dark new-project-button",onClick:function(){return e.handleAdd()},children:"Create New Project"})]})})}}]),n}(a.Component),B=n.p+"static/media/undraw_To_do_re_jaef.88365338.svg",G=x(function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleLogout=function(){a.props.logout()},a.state={projects:[]},a.projectService=new T,a}return Object(u.a)(n,[{key:"refreshState",value:function(){var e=this;this.projectService.get().then((function(t){e.setState({projects:t.data})})).catch((function(e){return console.error(e)}))}},{key:"componentDidMount",value:function(){this.refreshState()}},{key:"render",value:function(){var e=this,t=this.state.projects;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"h1-div",children:Object(f.jsx)("h1",{className:"projects-h1",children:"My Projects"})}),Object(f.jsxs)("div",{className:"project-list-div",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(R,{refreshState:function(){return e.refreshState()}}),Object(f.jsx)("div",{id:"accordion",children:t.map((function(t){return t.refreshState=function(){return e.refreshState()},Object(a.createElement)(E,Object(o.a)(Object(o.a)({},t),{},{key:t.id}))}))})]}),Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:"project-list-img",src:B,alt:""})})]})]})}}]),n}(a.Component));var H=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(P,{}),Object(f.jsxs)(c.d,{children:[Object(f.jsx)(c.b,{exact:!0,path:"/",component:C}),Object(f.jsx)(S,{path:"/projects",exact:!0,component:G}),Object(f.jsx)(k,{exact:!0,path:"/signup",component:q,redirectPath:"/projects"}),Object(f.jsx)(k,{exact:!0,path:"/login",component:I})]})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(N.a,{children:Object(f.jsx)("div",{children:Object(f.jsx)(v,{children:Object(f.jsx)(H,{})})})})}),document.getElementById("root")),J()}},[[74,1,2]]]);
//# sourceMappingURL=main.54b9661e.chunk.js.map